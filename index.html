<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#ff7043">
<title>なんちゃってファミレス</title>
<style>
body {
  margin: 0;
  font-family: sans-serif;
  background: #fafafa;
}

header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 20px;
  background: #ff7043;
  color: white;
}

button {
  padding: 10px;
  font-size: 16px;
  border: none;
  border-radius: 8px;
}

.container {
  display: flex;
  height: calc(100vh - 60px);
}

.menu {
  width: 65%;
  overflow-y: auto;
  padding: 10px;
}

.cart {
  width: 35%;
  border-left: 2px solid #ddd;
  padding: 10px;
  background: #f4f4f4;
}

.menu-item {
  border: 1px solid #ddd;
  border-radius: 12px;
  padding: 10px;
  margin-bottom: 10px;
  text-align: center;
  background: white;
}

.menu-item img {
  width: 100%;
  border-radius: 8px;
}

.status {
  margin-top: 10px;
  font-weight: bold;
}
</style>
</head>
<body>

<header>
  <h2>テーブル3</h2>
  <button onclick="submitOrder()">注文確定</button>
</header>

<div class="container">
  <div class="menu">

    <div class="menu-item" onclick="addToCart('ハンバーグ', 800)">
      <img src="https://via.placeholder.com/150">
      <p>ハンバーグ</p>
      <p>¥800</p>
    </div>

    <div class="menu-item" onclick="addToCart('パスタ', 900)">
      <img src="https://via.placeholder.com/150">
      <p>パスタ</p>
      <p>¥900</p>
    </div>

    <div class="menu-item" onclick="addToCart('ドリンクバー', 300)">
      <img src="https://via.placeholder.com/150">
      <p>ドリンクバー</p>
      <p>¥300</p>
    </div>

  </div>

  <div class="cart">
    <h3>注文リスト</h3>
    <ul id="cartList"></ul>
    <p id="total">合計: ¥0</p>
    <div class="status" id="status"></div>
  </div>
</div>

<script>
let cart = [];

function addToCart(name, price) {
  cart.push({ name, price });
  renderCart();
}

function renderCart() {
  const list = document.getElementById("cartList");
  list.innerHTML = "";
  let total = 0;

  cart.forEach(item => {
    total += item.price;
    list.innerHTML += `<li>${item.name} - ¥${item.price}</li>`;
  });

  document.getElementById("total").innerText = "合計: ¥" + total;
}

function submitOrder() {
  if (cart.length === 0) {
    alert("注文がありません");
    return;
  }

  let orders = JSON.parse(localStorage.getItem("orders")) || [];

  orders.push({
    id: Date.now(),
    table: "テーブル3",
    items: cart,
    status: "waiting"
  });

  localStorage.setItem("orders", JSON.stringify(orders));

  document.getElementById("status").innerText = "ご注文ありがとうございます！";
  cart = [];
  renderCart();
}

if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('sw.js');
}
</script>
</script>

</body>
</html>
